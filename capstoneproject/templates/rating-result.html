{% extends "navbar-contentrater.html" %}
{% load access_dict %}

{% block content %}
    <div style="text-align: center;"><h1>Rating Results</h1></div>
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <div class="container">
                    <a href="{% url 'homepage' %}" class="btn btn-lg btn-block btn-info">Rate Another!</a>
                </div>
            </div>
            <div class="col-md-6">
                <div class="container">
                    <div class="jumbotron">
                        <div style="text-align: center;">
                            <a title="Check Word Counts" href="{% url 'word-counts' name=current_name %}">
                                <h3>{{ current_name|title }}</h3>
                            </a>
                            <h3>{{ current_creator|title }}</h3>
                            <hr class="my-3">
                            <h4>Overall Rating</h4>
                        </div>
                        <div class="progress">
                            {% if current_overall_rating == 1 or current_overall_rating == 2 %}
                                <div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
                                     role="progressbar" aria-valuenow="{{ current_overall_rating }}" aria-valuemin="1"
                                     aria-valuemax="10"
                                     style="width: {{ current_overall_rating }}0%">{{ current_overall_rating }}</div>
                            {% elif current_overall_rating == 3 or current_overall_rating == 4 %}
                                <div class="progress-bar progress-bar-striped progress-bar-animated bg-info"
                                     role="progressbar" aria-valuenow="{{ current_overall_rating }}" aria-valuemin="1"
                                     aria-valuemax="10"
                                     style="width: {{ current_overall_rating }}0%">{{ current_overall_rating }}</div>
                            {% elif current_overall_rating == 5 or current_overall_rating == 6 %}
                                <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning"
                                     role="progressbar" aria-valuenow="{{ current_overall_rating }}" aria-valuemin="1"
                                     aria-valuemax="10"
                                     style="width: {{ current_overall_rating }}0%">{{ current_overall_rating }}</div>
                            {% elif current_overall_rating == 7 or current_overall_rating == 8 %}
                                <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary"
                                     role="progressbar" aria-valuenow="{{ current_overall_rating }}" aria-valuemin="1"
                                     aria-valuemax="10"
                                     style="width: {{ current_overall_rating }}0%">{{ current_overall_rating }}</div>
                            {% elif current_overall_rating == 9 or current_overall_rating == 10 %}
                                <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger"
                                     role="progressbar" aria-valuenow="{{ current_overall_rating }}" aria-valuemin="1"
                                     aria-valuemax="10"
                                     style="width: {{ current_overall_rating }}0%">{{ current_overall_rating }}</div>
                            {% endif %}
                        </div>
                        <hr class="my-2">
                        <div style="text-align: center;"><h5>By Category</h5></div>
                        {% for category, rating in current_category_ratings.items %}
                            <hr class="my-2">
                            <h6>{{ category|title }}:</h6>
                            <div class="progress">
                                {% if rating == 1 or rating == 2 %}
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
                                         role="progressbar" aria-valuenow="{{ rating }}" aria-valuemin="1"
                                         aria-valuemax="10" style="width: {{ rating }}0%">{{ rating }}</div>
                                {% elif rating == 3 or rating == 4 %}
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-info"
                                         role="progressbar" aria-valuenow="{{ rating }}" aria-valuemin="1"
                                         aria-valuemax="10" style="width: {{ rating }}0%">{{ rating }}</div>
                                {% elif rating == 5 or rating == 6 %}
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning"
                                         role="progressbar" aria-valuenow="{{ rating }}" aria-valuemin="1"
                                         aria-valuemax="10" style="width: {{ rating }}0%">{{ rating }}</div>
                                {% elif rating == 7 or rating == 8 %}
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary"
                                         role="progressbar" aria-valuenow="{{ rating }}" aria-valuemin="1"
                                         aria-valuemax="10" style="width: {{ rating }}0%">{{ rating }}</div>
                                {% elif rating == 9 or rating == 10 %}
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger"
                                         role="progressbar" aria-valuenow="{{ rating }}" aria-valuemin="1"
                                         aria-valuemax="10" style="width: {{ rating }}0%">{{ rating }}</div>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="container">
                    <form action="{% url 'homepage' %}" method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="content_compare" id="content_compare" value="{{ current_name }}">
                        <input type="submit" id="compare" class="btn btn-lg btn-block btn-info" value="Compare!">
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}