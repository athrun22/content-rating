{% extends "navbar-profile.html" %}

{% block optional_styling %}
<style>
    .slidecontainer {
    width: 100%;
    }

.slider {
    -webkit-appearance: none;
    width: 100%;
    height: 15px;
    border-radius: 5px;
    background: #a9a9a9;
    outline: none;
    opacity: 0.7;
    -webkit-transition: .2s;
    transition: opacity .2s;
    }

.slider:hover {
    opacity: 1;
    }

.slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 25px;
    height: 25px;
    background: #E95420;
    cursor: pointer;
    }

.slider::-moz-range-thumb {
    width: 25px;
    height: 25px;
    background: #E95420;
    cursor: pointer;
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid">
	<div class="row">
		<div class="col-md-6">
			<div class="container">
                <div class="jumbotron">
                    <div class="jumbotron" style="background: #a9a9a9;">
                        <div style="text-align: center;"><h1 class="display-5">Update Credentials</h1>
                        <p class="lead">Update your username or password.</p></div>
                        <hr class="my-4">
                            <ul class="nav nav-tabs">
                                <li class="nav-item">
                                    <a class="nav-link active show" data-toggle="tab" href="#username">Username</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#password">Password</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#userandpass">Username & Password</a>
                                </li>
                             </ul>
                             &nbsp;
                        <form lpformnum="1" _lpchecked="1">
                            <fieldset>
                                <div id="displayForm" class="tab-content">
                                    <div class="tab-pane fade active show" id="username">
                                        <div style="text-align: center;"><legend class="display-6">Change Username</legend></div>
                                            <div class="form-group">
                                                <label for="newUsername">New Username</label>
                                                <input type="text" class="form-control" id="newUsername" placeholder="Enter username">
                                            </div>
                                    </div>
                                    <div class="tab-pane fade" id="password">
                                        <div style="text-align: center;"><legend class="display-6">Change Password</legend></div>
                                            <div class="form-group">
                                                <label for="newPassword">New Password</label>
                                                <input type="password" class="form-control" id="newPassword" placeholder="Enter password">
                                            </div>
                                            <div class="form-group">
                                                <label for="confirmPassword">Confirm Password</label>
                                                <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm password">
                                            </div>
                                    </div>
                                    <div class="tab-pane fade" id="userandpass">
                                        <div style="text-align: center;"><legend class="display-6">Change Username & Password</legend></div>
                                            <div class="form-group">
                                                <label for="newUsername">New Username</label>
                                                <input type="text" class="form-control" id="newUsername" placeholder="Enter username">
                                            </div>
                                            <div class="form-group">
                                                <label for="newPassword">New Password</label>
                                                <input type="password" class="form-control" id="newPassword" placeholder="Enter password">
                                            </div>
                                            <div class="form-group">
                                                <label for="confirmPassword">Confirm Password</label>
                                                <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm password">
                                            </div>
                                    </div>
                                </div>
                            </fieldset>
                            <div style="text-align: center;"><button type="submit" class="btn btn-primary">Update credentials</button></div>
                        </form>
                    </div>
                    <div class="container">
                        {% if recently_rated|length == 0 %}
                            <div style="text-align: center;"><h1 class="display-5">No Recently Rated</h1></div>
                        {% else %}
                            <div style="text-align: center;"><h1 class="display-5">Recently Rated</h1></div>
                            {% for song, rating in recently_rated.items %}
                                <hr class="my-4">
                                <!-- Default colors: bg-success (1-2), bg-info (3-4), bg-warning (5-6), bg-primary (7-8), bg-danger (9-10) -->
                                <p class="lead">{{ song }}:</p>
                                <div class="progress">
                                    {% if rating == 1 or rating == 2 %}
                                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" aria-valuenow="{{ rating }}" aria-valuemin="1" aria-valuemax="10" style="width: {{ rating }}0%">{{ rating }}</div>
                                    {% elif rating == 3 or rating == 4 %}
                                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" aria-valuenow="{{ rating }}" aria-valuemin="1" aria-valuemax="10" style="width: {{ rating }}0%">{{ rating }}</div>
                                    {% elif rating == 5 or rating == 6 %}
                                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" aria-valuenow="{{ rating }}" aria-valuemin="1" aria-valuemax="10" style="width: {{ rating }}0%">{{ rating }}</div>
                                    {% elif rating == 7 or rating == 8 %}
                                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar" aria-valuenow="{{ rating }}" aria-valuemin="1" aria-valuemax="10" style="width: {{ rating }}0%">{{ rating }}</div>
                                    {% elif rating == 9 or rating == 10 %}
                                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" aria-valuenow="{{ rating }}" aria-valuemin="1" aria-valuemax="10" style="width: {{ rating }}0%">{{ rating }}</div>
                                    {% endif %}
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
			</div>
		</div>
        <div class="col-md-6">
            <div class="container">
                <div class="jumbotron">
                    <form>
                        <fieldset>
                            <div style="text-align: center;"><h1 class="display-5">My Rating Settings</h1></div>
                                {% for category in categories %}
                                    <hr class="my-4">
                                    <p class="lead">{{ category.category|title }}</p>
                                    <div class="slidecontainer">
                                        <input type="range" id="{{ category.category }}" name="{{ category.category }}" min="0" max="3" value="{{ category.weight }}" class="slider" oninput="{{ category.category }}_amount.value={{ category.category }}.value">
                                        <output name="{{ category.category }}_amount" id="{{ category.category }}_amount" for="{{ category.category }}">{{ category.weight }}</output>
                                    </div>
                                &nbsp;{% endfor %}
                            <div style="text-align: center;"><button type="submit" class="btn btn-primary">Update settings</button></div>
                        </fieldset>
                    </form>
                    &nbsp;
                    <a href="{% url 'words' %}" class="btn btn-lg btn-block btn-info">Customize Word Weights</a>
                </div>
            </div>
        </div>
	</div>
</div>
{% endblock %}